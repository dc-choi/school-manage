---
paths:
  - "docs/specs/**"
---

# SDD (Spec-Driven Development) Rules

PRD, 기능 설계, Feature/Task/Development 문서 작성 규칙입니다.

## 역할 분리

| 세션 | 역할 | 책임 | 산출물 위치 |
|------|------|------|-------------|
| 1 | 사업 에이전트 | 문제 정의, 가치, 우선순위 | `docs/business/` |
| 2 | PM 에이전트 | PRD, 기능 설계 | `docs/specs/prd/`, `docs/specs/functional-design/` |
| 3 | SDD 작성자 | Feature/Task/Development + 구현 | `docs/specs/target/` → `apps/` |
| 4 | SDD 검수자 | 각 단계별 검수 + 최종 승인 | `docs/specs/` |

## 워크플로우 (9단계)

| 단계 | 담당 | 설명 |
|------|------|------|
| 0 | 사용자 (작성자 서포트) | 작업 선택 → README.md 등록 |
| 1 | 사용자 (작성자 서포트) | PRD/기능 설계 기반 범위 확정 |
| 2 | 작성자 → 검수자 | Feature 작성 → 검수 |
| 3 | 작성자 → 검수자 | Task 작성 → 검수 |
| 4 | 작성자 → 검수자 | Development 작성 → 검수 |
| 5 | 작성자 | 구현 + 테스트 |
| 6 | 검수자 | 정적 분석/최종 리뷰 |
| 7 | 검수자 | 문서 이동 (target → current) |
| 8 | 검수자 | 프로젝트 현황 동기화 |

## 문서 구조

```
docs/specs/
├── prd/                  # PM 에이전트 산출물: PRD 문서
├── functional-design/    # PM 에이전트 산출물: 기능 설계 문서
├── current/              # 완료된 기능 명세 (SSoT)
│   └── functional/
├── target/               # 개선/이행 예정 명세
│   ├── functional/
│   └── non-functional/   # 완료 후 삭제됨
└── templates/            # 문서 템플릿
```

## 문서 간 계층 구조

```
PRD (무엇을 왜 만드는가)
  ↓
기능 설계 (어떻게 동작하는가)
  ↓
Feature (무엇을 만드는가 - 요구사항 정의)
  ↓
Task (어떻게 업무를 나누는가 - 업무 분할/순서)
  ↓
Development (무엇을 구현하는가 - 세부 구현 내용)
  ↓
구현 (코드 작성)
```

## 문서 유형별 핵심 내용

| 문서 | 질문 | 핵심 내용 |
|------|------|----------|
| Feature | 무엇을 만드는가? | 사용자 스토리, 기능 요구사항, 인수 조건 |
| Task | 어떻게 업무를 나누는가? | 업무 분할 테이블, 유스케이스, 검증 체크리스트 |
| Development | 무엇을 구현하는가? | 데이터 모델, 비즈니스 로직, 테스트 시나리오 |

## 기능 개선 시 병합 규칙

1. **별도 문서 생성 금지**: 파생 문서 X
2. **기존 문서에 병합**: 도메인별 메인 문서에 통합
3. **병합 표기**: 섹션 제목에 "(로드맵 N단계)" 등 출처 명시
4. **참조 문서 갱신**: PRD, README.md 동시 업데이트

### 도메인별 메인 문서

| 도메인 | 기능 설계 / SDD |
|--------|----------------|
| 출석 | `attendance-management.md` |
| 학생 | `student-management.md` |
| 그룹 | `group-management.md` |
| 통계 | `statistics.md` |
| 인증/계정 | `auth-account.md` |

## 문서 상태 관리

| 상태 | 의미 |
|------|------|
| **Draft** | 작성 초기 상태 |
| **Review** | 핸드오프 완료, 검토 진행 |
| **Approved** | 검수 완료, 다음 단계 진행 가능 |

## 우선순위 기준

| 우선순위 | 의미 |
|----------|------|
| P0 | 즉시 필요 (블로커) |
| P1 | 중요 (다음 마일스톤) |
| P2 | 개선 (여유 있을 때) |

## 핸드오프 규칙

- **핸드오프 내용은 파일로 작성하지 않는다**
- **화면에 직접 출력**하여 검수자가 바로 확인할 수 있게 한다

```markdown
---
## 검수자 핸드오프: [작업명]

### 완료된 작업
- ...

### 변경된 파일
- ...

### 검수 항목
- [ ] ...

### 실행 방법
...
---
```

## 관련 문서

- 상세 워크플로우: `docs/specs/WORKFLOW.md`
- 템플릿: `docs/specs/templates/`