# PRD: 전례 시기/전례력 달력

> SDD 작성자가 작성하는 제품 요구사항 문서입니다.
> 사업 에이전트의 `docs/business/` 문서를 기반으로 작성합니다.

## 배경/문제 요약

- 참고: `docs/business/6_roadmap/roadmap.md` (2단계), `docs/business/STATUS.md` (비전/핵심 관찰)
- 문제: 사용자가 현재 전례 시기(대림/사순/부활 등)와 다가오는 주요 축일을 확인하려면 별도의 전례력 자료를 찾아봐야 한다. 출석부 앱이 "매주 일요일에 여는 주간 허브"가 되려면, 출석 외에도 전례 정보를 한곳에서 볼 수 있어야 한다.
- 현재 상태: 출석 달력에 의무축일 11개가 빨간색으로 표시되지만, 전례 시기 정보는 없고 축일 목록을 한눈에 볼 수 있는 화면도 없다.
- 목표 상태: 대시보드에서 현재 전례 시기를 확인하고, 다가오는 축일/대축일 목록을 한눈에 볼 수 있다.

## 목표/성공 기준

- **목표**: 사용자가 출석부 앱 내에서 현재 전례 시기와 다가오는 축일을 확인할 수 있게 하여 "주간 허브" 가치를 강화한다.
- **성공 지표**: 대시보드 방문 시 전례 정보 영역 노출률 100% (로그인 사용자 전원)
- **측정 기간**: 배포 후 2주

## 사용자/대상

- **주요 사용자**: 주일학교 교리교사 (출석부 앱 기존 사용자)
- **사용 맥락**: 매주 일요일 출석부 앱을 열 때, 오늘이 어떤 전례 시기이고 다가오는 축일이 무엇인지 바로 확인한다.

## 범위

### 포함

- 현재 전례 시기 계산 및 표시 (대림/성탄/사순/부활/연중 시기)
- 다가오는 축일/대축일 목록 표시 (향후 N개)
- 대시보드에 전례 정보 카드 추가
- 전례 시기 계산 API 추가

### 제외

- 전례력 전용 별도 페이지 (MVP 범위 밖 — 대시보드 카드로 충분)
- 전례 시기별 색상 테마/전체 앱 스킨 변경
- 매일 복음/독서 연동 (외부 API 의존)
- 전례 시기 알림/푸시

## 사용자 시나리오

1. **시나리오 1 — 전례 시기 확인**: 교리교사가 일요일에 대시보드를 열면, "현재 연중 제7주일입니다" 같은 전례 시기 정보가 표시된다.
2. **시나리오 2 — 다가오는 축일 확인**: 대시보드에서 "다가오는 축일" 목록을 보고, 2주 후 성모 승천 대축일이 있음을 확인한다.
3. **시나리오 3 — 출석 달력과 연계**: 출석 달력에서 의무축일 날짜를 클릭하면 해당 축일명이 표시된다 (기존 기능, 변경 없음).

## 요구사항

### 필수 (Must)

- [ ] 현재 날짜 기준 전례 시기(대림/성탄/사순/부활/연중)를 계산하여 표시
- [ ] 대시보드에 전례 시기 정보 카드를 표시
- [ ] 다가오는 축일/대축일 목록(향후 3개)을 대시보드에 표시
- [ ] 기존 의무축일 11개 데이터를 활용 (신규 DB 불필요)

### 선택 (Should)

- [ ] 전례 시기에 맞는 아이콘 또는 색상 표시 (시기별 전례색: 보라/흰/초록/빨강)
- [ ] GA4 이벤트로 전례 카드 노출 추적

### 제외 (Out)

- 전례력 전용 페이지
- 매일 복음/독서 API 연동
- 사용자 맞춤 축일 추가/편집
- 전례 시기 기반 앱 테마 변경

## 제약/가정/리스크

- **제약**: 전례 시기 계산은 한국 천주교 전례력 기준 (로마 전례력 + 한국 고유 축일)
- **가정**: 기존 Computus 알고리즘과 고정 축일 데이터로 전례 시기 계산이 가능하다 (부활 기준 대부분의 시기 경계가 결정됨)
- **리스크**: 전례 시기 경계 계산의 정확성 — 한국 천주교 전례력의 예외 규칙이 존재할 수 있음 (예: 주님 세례 축일의 위치에 따른 연중 시기 시작일)

## 의존성

- **내부**: 기존 `liturgical` 도메인 (Computus 알고리즘, 축일 계산 UseCase)
- **외부**: 없음 (외부 API 미사용, 자체 계산)

## 롤아웃/검증

- **출시 단계**: 전체 사용자 동시 배포 (점진적 배포 불필요 — 읽기 전용 기능)
- **이벤트/로그**: `liturgical_card_viewed` (대시보드 전례 카드 노출 시)
- **검증 방법**: 대시보드 진입 시 전례 시기가 정확히 표시되는지 수동 검증 (현재 날짜 기준)

## 오픈 이슈

- [ ] 전례 시기 계산 시 한국 고유 축일(예: 한국 순교 성인 대축일 9/20)을 포함할지 여부
- [ ] 대시보드 카드 위치: 기존 통계 차트 상단 vs 하단

## 연결 문서

- 사업 문서: `docs/business/6_roadmap/roadmap.md` (2단계)
- 사업 현황: `docs/business/STATUS.md` (비전/핵심 관찰)
- 기능 설계: `docs/specs/functional-design/auth-account.md` (대시보드 관련)
- 기존 전례 도메인: `apps/api/src/domains/liturgical/`

---

**작성일**: 2026-02-18
**작성자**: SDD 작성자
**상태**: Draft