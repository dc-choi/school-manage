# Task: 배포 롤백 전략

> 업무 단위 설계 문서입니다.
> Feature 문서를 기반으로 **유스케이스와 엣지 케이스**를 정리합니다.

## 관련 Feature

- `docs/specs/target/non-functional/features/deploy-dockerhub-rollback.md`

## 목표

이전 이미지 태그/디제스트로 롤백하는 절차를 문서화한다.

## 범위

### 포함
- [x] 이전 태그 보관
- [x] 롤백 절차 문서화

### 제외
- [ ] 장애 대응 매뉴얼 전체
- [ ] 배포 모니터링

## 유스케이스

### UC-1: 롤백 실행

**전제 조건**: 이전 태그 보관

**주요 흐름**:
1. compose 이미지 태그를 이전 버전으로 변경한다.
2. `pull/up -d`로 재기동한다.

**결과**: 이전 버전으로 복구된다.

### UC-2: digest 롤백

**전제 조건**: digest 기록 보관

**주요 흐름**:
1. digest로 이미지를 고정한다.

**결과**: 완전 불변 롤백이 가능하다.

## 엣지 케이스 & 예외 처리

| 상황 | 처리 방법 | 우선순위 |
|------|----------|---------|
| 이전 태그 누락 | 보관 정책 강화 | High |
| 마이그레이션 불일치 | DB 롤백 포함 | High |

## 검증 체크리스트

- [ ] 이전 태그가 보관되었는가?
- [ ] 롤백 절차가 문서화되었는가?

## 다음 단계

- [x] Development 문서 작성: `docs/specs/target/non-functional/development/deploy-dockerhub-rollback.md`

---

**작성일**: 2026-01-05
**담당자**: Codex
**예상 작업량**: S
